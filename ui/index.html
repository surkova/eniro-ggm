<!DOCTYPE html>
<html>
	<head>
		<title>Eniro API Demo</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/custom.css">
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="http://kartor.eniro.se/rs/eniro.js?partnerId=iX7pJjqecBI=&profile=se"></script>
	</head>
	<body onload="initMyMap();">
		<header>
			<div class="container" id="navigation">
				<div id="logoapi">
					<h1>Vargen the hipster</h1>
					<h4>Äter gummor sedan urminnes tiden</h4>
				</div>
			</div>
		</header>
		<article>
			<div class="container">
				<div class="tab-content">
					<div class="tab-pane active" id="tab1">
						<h2>Blomsterspanaren</h2>
						<div class="row">
							<div class="span8">
								<!--HERE'S THE MAP-->
								<div id="mymap"></div>
							</div>
							<div class="span4">
								<div class="well vargen">
									<img src="img/vargen.jpg" title="Vargen">								
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function initMyMap() {
				// get reference to the DIV that will hold the map.
				var mymapDiv = document.getElementById('mymap');

				// start an eniro map in the DIV.
				var mymap = new eniro.maps.Map(mymapDiv, {
					center: new eniro.maps.LatLng(59.38453, 18.01366),
					zoom: 11,
					searchBoxControl: true
				});

				//FIRST MARKER

				var mark = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(59.38590, 18.00787), 
						icon: 'img/osd-flower-icon-small.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup
				var infoWindow = new eniro.maps.InfoWindow();

				eniro.maps.event.addListener(mark, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Indiska blommor</a></h6>Skynda dig att se!<br /><img src='img/osd-flower-icon-fullsize.png'></div>");
					infoWindow.open(mark);
				});

				//SECOND MARKER

				var mark1 = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(59.38605, 18.01355), 
						icon: 'img/pollen-flower-icon-small.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup
				var infoWindow = new eniro.maps.InfoWindow();

				eniro.maps.event.addListener(mark1, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Ryska blommor</a></h6>Perfekt för Eurovision babushkor!<br /><img src='img/pollen-flower-icon-fullsize.png'></div>");
					infoWindow.open(mark1);
				});

				//THIRD MARKER

				var mark2 = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(59.38142, 18.01398), 
						icon: 'img/rose-icon-small.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup

				eniro.maps.event.addListener(mark2, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Franska blommor</a></h6>Utsökta blommor för den kräsne!<br /><img src='img/rose-icon-fullsize.png'></div>");
					infoWindow.open(mark2);
				});

				//FORTH MARKER

				var mark3 = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(57.21531, 12.85305), 
						icon: 'img/roze_2.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup

				eniro.maps.event.addListener(mark3, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Svenska rosor</a></h6>När de är som bäst<br /><img src='img/roze.png'></div>");
					infoWindow.open(mark3);
				});

				
			}
		</script>
	</body>
</html>