<!DOCTYPE html>
<html>
	<head>
		<title>Eniro API Demo</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/custom.css">
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="http://kartor.eniro.se/rs/eniro.js?partnerId=iX7pJjqecBI=&profile=se"></script>
	</head>
	<body onload="initMyMap();">
		<header>
			<div class="container" id="navigation">
				<div id="logoapi">
					<img src="img/eniro.api.logo.png">
				</div>
			</div>
		</header>
		<article>
			<div class="container">
				<div class="tab-content">
					<div class="tab-pane active" id="tab1">
						<h1>Blomsterspanaren</h1>
						<div class="row">
							<div class="span8">
								<!--HERE'S THE MAP-->
								<div id="mymap"></div>
							</div>
							<div class="span4">
								<img src="img/vargen.png" title="Vargen">								
							</div>
						</div>
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function initMyMap() {
				// get reference to the DIV that will hold the map.
				var mymapDiv = document.getElementById('mymap');

				// start an eniro map in the DIV.
				var mymap = new eniro.maps.Map(mymapDiv, {
					myLocationControl: true,
					center: new eniro.maps.LatLng(59.38453, 18.01366),
					zoom: 11
				});

				//FIRST MARKER

				var mark = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(59.38590, 18.00787), 
						icon: 'img/osd-flower-icon-small.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup
				var infoWindow = new eniro.maps.InfoWindow();

				eniro.maps.event.addListener(mark, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Indiska blommor</a></h6>Orkide – <em>1m rupiah</em>,<br />Rosor – <em>500k rupiah</em><br /><img src='img/osd-flower-icon-fullsize.png'></div>");
					infoWindow.open(mark);
				});

				//SECOND MARKER

				var mark1 = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(59.38605, 18.01355), 
						icon: 'img/pollen-flower-icon-small.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup
				var infoWindow = new eniro.maps.InfoWindow();

				eniro.maps.event.addListener(mark1, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Ryska blommor</a></h6>Orkide – <em>100 rubler</em>,<br />Rosor – <em>500 rubler</em><br /><img src='img/pollen-flower-icon-fullsize.png'></div>");
					infoWindow.open(mark1);
				});

				//THIRD MARKER

				var mark2 = new eniro.maps.Marker({
						position: new eniro.maps.LatLng(59.38142, 18.01398), 
						icon: 'img/rose-icon-small.png',
						map: mymap  // by providing map the marker is directly added
					}
				);

				// we use one info window instance to only ever open one popup
				var infoWindow = new eniro.maps.InfoWindow();

				eniro.maps.event.addListener(mark2, 'click', function () {
					infoWindow.setContent("<div class='popupInfo'><h6><a href='#'>Franska blommor</a></h6>Orkide – <em>5 euro</em>,<br />Rosor – <em>10 euro</em><br /><img src='img/rose-icon-fullsize.png'></div>");
					infoWindow.open(mark2);
				});
			}
		</script>
	</body>
</html>